import{j as e}from"./index-fd848c46.js";import{r as a}from"./react-63c462fe.js";import{X as w,a9 as k}from"./icons-2bdec3f2.js";import"./supabase-24c2e735.js";import"./router-d6d570a4.js";const G=()=>{const[g,h]=a.useState(!1),[r,o]=a.useState(null),[f,d]=a.useState(!1),[b,l]=a.useState(!1),[x,j]=a.useState(!1),[v,p]=a.useState(!1);a.useEffect(()=>{if(typeof window=="undefined")return;const n=navigator.userAgent||"",S=/android/i.test(n);j(S);try{sessionStorage.getItem("pwa-install-dismissed")==="1"&&p(!0)}catch(t){}const s=typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)"):null;h((()=>{var t;try{return!!(s!=null&&s.matches||((t=window.navigator)==null?void 0:t.standalone)===!0)}catch(c){return!1}})());const i=t=>{var c;h(!!(t!=null&&t.matches)||((c=window.navigator)==null?void 0:c.standalone)===!0)};if(s)try{s.addEventListener("change",i)}catch(t){s.addListener&&s.addListener(i)}const u=t=>{t.preventDefault(),o(t),d(!0)},m=()=>{o(null),d(!1)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",m),()=>{if(window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",m),s)try{s.removeEventListener("change",i)}catch(t){s.removeListener&&s.removeListener(i)}}},[]);const y=async()=>{try{if(!r)return;r.prompt(),await r.userChoice,o(null),d(!1)}catch(n){}},N=async()=>{f&&r?await y():x&&l(!0)},I=()=>{p(!0);try{sessionStorage.setItem("pwa-install-dismissed","1")}catch(n){}};return g||v||!(x||f&&r)?null:e.jsxs(e.Fragment,{children:[b&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[10000] flex items-center justify-center p-4",onClick:()=>l(!1),children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 max-w-sm w-full border border-white/10 shadow-2xl",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"ðŸ“² App Install à¤•à¤°à¥‡à¤‚"}),e.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white p-1",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4 text-white/90 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-indigo-500/20 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold",children:"1"}),e.jsxs("p",{children:["Browser à¤•à¥‡ ",e.jsx("strong",{children:"â‹® Menu"})," (3 dots) à¤ªà¤° tap à¤•à¤°à¥‡à¤‚"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-indigo-500/20 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold",children:"2"}),e.jsxs("p",{children:[e.jsx("strong",{children:'"Add to Home screen"'})," à¤¯à¤¾ ",e.jsx("strong",{children:'"Install app"'})," à¤ªà¤° tap à¤•à¤°à¥‡à¤‚"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-indigo-500/20 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold",children:"3"}),e.jsxs("p",{children:[e.jsx("strong",{children:'"Install"'})," à¤ªà¤° tap à¤•à¤°à¥‡à¤‚ - Done! ðŸŽ‰"]})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:e.jsx("p",{className:"text-green-400 text-xs text-center",children:"âœ¨ App install à¤¹à¥‹à¤¨à¥‡ à¤•à¥‡ à¤¬à¤¾à¤¦ Home Screen à¤¸à¥‡ open à¤•à¤°à¥‡à¤‚ - Fast load à¤¹à¥‹à¤—à¤¾!"})}),e.jsx("button",{onClick:()=>l(!1),className:"w-full mt-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-semibold rounded-xl",children:"à¤¸à¤®à¤ à¤—à¤¯à¤¾ ðŸ‘"})]})}),e.jsxs("button",{onClick:N,className:"w-14 h-14 rounded-full btn-fire transition-all duration-300 transform hover:scale-105 flex items-center justify-center group relative overflow-hidden",style:{position:"fixed",bottom:"100px",right:"20px",zIndex:9999},"aria-label":"Install App",title:"Install App",children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),I()},className:"absolute -top-1 -right-1 w-5 h-5 bg-gray-800 border border-white/20 rounded-full flex items-center justify-center text-white/70 hover:text-white hover:bg-gray-700 z-20","aria-label":"Dismiss",children:e.jsx(w,{className:"w-3 h-3"})}),e.jsxs("svg",{className:"pointer-events-none absolute -top-2 left-1/2 -translate-x-1/2 w-6 h-6 opacity-70",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[e.jsx("path",{d:"M12 2c1.5 2 2 3.5 2 5 0 1.5-.5 3-2 4-1.5-1-2-2.5-2-4 0-1.5.5-3 2-5Z",fill:"url(#flameGrad)"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"flameGrad",x1:"12",y1:"2",x2:"12",y2:"11",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#fde047"}),e.jsx("stop",{offset:"1",stopColor:"#f97316"})]})})]}),e.jsx("div",{className:"absolute inset-0"}),e.jsx(k,{className:"w-5 h-5 relative z-10 drop-shadow"}),e.jsx("span",{className:"hidden group-hover:block absolute right-16 bg-gray-900/90 backdrop-blur text-white px-2 py-1 rounded text-xs whitespace-nowrap border border-white/10 shadow",children:"Install App"})]})]})};export{G as default};
