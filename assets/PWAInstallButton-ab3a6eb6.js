import{j as e}from"./index-c6a130bf.js";import{r as n}from"./react-63c462fe.js";import{a9 as l,X as y,aa as k,N as x,ab as I}from"./icons-d3737b64.js";import"./supabase-24c2e735.js";import"./router-d6d570a4.js";const M=()=>{const[w,h]=n.useState(!1),[d,c]=n.useState(null),[f,a]=n.useState(!1),[m,j]=n.useState("android");n.useEffect(()=>{if(typeof window=="undefined")return;const i=navigator.userAgent||"",b=/iPad|iPhone|iPod/.test(i)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,v=/Android/.test(i);j(b?"ios":v?"android":"desktop");const t=typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)"):null;h((()=>{var s;try{return!!(t!=null&&t.matches||((s=window.navigator)==null?void 0:s.standalone)===!0)}catch(o){return!1}})());const r=s=>{var o;h(!!(s!=null&&s.matches)||((o=window.navigator)==null?void 0:o.standalone)===!0)};if(t)try{t.addEventListener("change",r)}catch(s){t.addListener&&t.addListener(r)}const p=s=>{s.preventDefault(),c(s)},u=()=>{c(null),a(!1)};return window.addEventListener("beforeinstallprompt",p),window.addEventListener("appinstalled",u),()=>{if(window.removeEventListener("beforeinstallprompt",p),window.removeEventListener("appinstalled",u),t)try{t.removeEventListener("change",r)}catch(s){t.removeListener&&t.removeListener(r)}}},[]);const g=async()=>{try{d?(d.prompt(),(await d.userChoice).outcome==="accepted"&&c(null)):a(!0)}catch(i){a(!0)}},N=()=>{g()};return w?null:e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:N,className:"w-14 h-14 rounded-full btn-fire transition-all duration-300 transform hover:scale-105 flex items-center justify-center group relative overflow-hidden shadow-lg",style:{position:"fixed",bottom:"100px",right:"20px",zIndex:9999},"aria-label":"Install App",title:"Install App",children:[e.jsxs("svg",{className:"pointer-events-none absolute -top-2 left-1/2 -translate-x-1/2 w-6 h-6 opacity-70",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[e.jsx("path",{d:"M12 2c1.5 2 2 3.5 2 5 0 1.5-.5 3-2 4-1.5-1-2-2.5-2-4 0-1.5.5-3 2-5Z",fill:"url(#flameGrad)"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"flameGrad",x1:"12",y1:"2",x2:"12",y2:"11",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#fde047"}),e.jsx("stop",{offset:"1",stopColor:"#f97316"})]})})]}),e.jsx("div",{className:"absolute inset-0"}),e.jsx(l,{className:"w-5 h-5 relative z-10 drop-shadow text-white"}),e.jsx("span",{className:"hidden group-hover:block absolute right-16 bg-gray-900/90 backdrop-blur text-white px-2 py-1 rounded text-xs whitespace-nowrap border border-white/10 shadow",children:"Install App"})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-end sm:items-center justify-center z-[10000] p-4",onClick:()=>a(!1),children:e.jsxs("div",{className:"bg-gradient-to-b from-slate-800 to-slate-900 rounded-t-3xl sm:rounded-2xl w-full max-w-md p-6 border border-white/10 shadow-2xl",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:e.jsx(l,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Install Quiz Dangal"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Get the full app experience"})]})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(y,{className:"w-5 h-5 text-white/60"})})]}),e.jsx("div",{className:"space-y-4",children:m==="ios"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-white/80 text-sm",children:"Safari browser mein install karein:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(k,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"1. Share button tap karein"}),e.jsx("p",{className:"text-white/50 text-xs",children:"Screen ke neeche"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:'2. "Add to Home Screen" select karein'}),e.jsx("p",{className:"text-white/50 text-xs",children:"Scroll karke dhundhein"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(l,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:'3. "Add" tap karein'}),e.jsx("p",{className:"text-white/50 text-xs",children:"App install ho jayega!"})]})]})]})]}):m==="android"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-white/80 text-sm",children:"Chrome browser mein install karein:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(I,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"1. Menu (⋮) tap karein"}),e.jsx("p",{className:"text-white/50 text-xs",children:"Top-right corner mein"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:'2. "Add to Home screen" tap karein'}),e.jsx("p",{className:"text-white/50 text-xs",children:'Ya "Install app" option'})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(l,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:'3. "Install" tap karein'}),e.jsx("p",{className:"text-white/50 text-xs",children:"App install ho jayega!"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-white/80 text-sm",children:"Browser mein install karein:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(l,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"1. Address bar mein install icon dekhein"}),e.jsx("p",{className:"text-white/50 text-xs",children:"URL ke right side mein"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-xl p-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"2. Install icon click karein"}),e.jsx("p",{className:"text-white/50 text-xs",children:'Ya Menu → "Install Quiz Dangal"'})]})]})]})]})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-white/10",children:e.jsx("button",{onClick:()=>a(!1),className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:opacity-90 transition-opacity",children:"Samajh Gaya!"})})]})})]})};export{M as default};
